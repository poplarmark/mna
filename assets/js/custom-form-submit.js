<script type="text/javascript">$(document).off("submit"),$("form").submit(function(t){t.preventDefault();let a=$(this),i=$("[type=submit]",a),e=i.val(),o=i.attr("data-wait"),s=a.attr("method"),l=a.attr("action"),r=a.attr("data-redirect"),f=a.serialize();o&&i.val(o),$.ajax(l,{data:f,method:s}).done(t=>{if(r){window.location=r;return}a.siblings(".w-form-done").show().siblings(".w-form-fail").hide()}).fail(t=>{a.siblings(".w-form-done").hide().siblings(".w-form-fail").show()}).always(()=>{i.val(e)})});</script>